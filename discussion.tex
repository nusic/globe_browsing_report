\chapter{Discussion}
In this chapter, the resulting implementation and design decisions made through out the research phase and development phase will be discussed. 

\section{Ellipsoids vs Spheres}
Representing globes as ellipsoids and not as spheres was a decision settled early in the development process. 
The accuracy that the ellipsoidal model gives is important to be able to show near Earth orbits and rocket launches where the space crafts need to be positioned accurately relative to the WGS84 reference frame which is used in the SPICE library. 
Other globes such as the planet Saturn has a clearly visible ellipsoidal shape due to its angular momentum. This can now be shown in OpenSpace by configuring the planet to have the correct radii.

\section{Tesselation and Projection}
The choice of using geographic tessellation for the ellipsoid was a direct result of using equirectangular geodetic map projections. 
The equirectangular geodetic map projection is very common for many public map datasets and was therefore a given choice to be able to visualize a vast amount of data on the globes surfaces.

The drawbacks with oversampling at the poles giving undesired visual artefacts was considered, but in the end prioritized down due to time restrictions. \todo[inline]{Maybe have a test where we see how much slower the rendering is at the poles} The most reasonable solution to the polar issues would be to use polar caps similar to Dimitrijevi\'{c} and Ran\v{c}i\'{c}'s solution \cite{dimi15}. Even though the LOD algorithm is different, the similarities in tessellation map projection would mean that the implementation would have similar characteristics. Polar caps will however not solve all problems related to poles in geographical grid tessellations. The first time the software wants to render chunks on a polar cap near the pole, it will still need to request all the same tiles that a it would using a standard geographical grid tessellation. If it later is able to cache all reprojected tiles, they will be faster to render next time they are requested. The requests together with the re-projections will make it slower to visualize tiles at the caps, this could be a big limitation for datasets that needs to be accessed fast such as temporal datasets used for animating textures. Many of the GIBS datasets however are available in both equirectangular format as well as polar stereographic (EPSG:3413) for the North Pole and antarctic polar stereographic (EPSG:3031) for the South Pole. Hence re-projection would not be needed if the polar caps are defined with stereographic projections. 

\section{Chunked LOD vs Ellipsoidal Clipmaps}
Both Ellipsoidal clipmaps and chunked LOD were thoroghly considered as the overall LOD algorithm to used. 
In fact, the first eight weeks of the project was spent implementing an ellipsoidal clipmap approach in parallel to the chunked LOD approach.

The clipmap implementation was aborted as the chunked LOD was significantly more straight forward to implement and early on started yielding visible results. Moreover, having decided on using equirectangular tessellation and map projection, the ellipsoidal clipmap approach would completely depend on an working implementation of polar caps, which would have extended the implementation time further with the need of considering both re-projection and edges.

Even though geometry clipmaps would pose some very different rendering challenges than chunked LOD approach, many components developed for the chunked LOD approach would be shared between the two approaches.
The commonly used components would include the entire texture data pipeline and layer structure along with all the geometric related calculations, the interaction mode and various helper classes. The main difference is the rendering pipeline even though it also has similarities; for example, using the model space and camera space vertex rendering schemes could be done for geometry clipmaps just as well as for chunk grids.

\section{Mip Level Blending}
All the chunk tiles represent the same geodetic area at different mip level. 
The texture data within a single dataset does not have to be strictly down sampled versions of the original size. 
The dataset may be combined from multiple different data sources such as satellite imagery and aerial photographs. 
Thus, two adjacent mip levels within a map dataset may look completely different from one another. 
One such example is the ESRI Imagery World 2D true color map over Naturpark Karwendel near Innsbruck, Austria; the dataset has a drastic transition between two mip levels where the mountains of the Alps have been photographed both with and without snow coverage.